I decorate code simulation with additions to populate the historic memory during execution. To do this, I override the write state hooks from my superclass, and I hook into further simulation capabilities that will change the pc of any context, and record the prior state of the affected slots in the memory before applying any side effect. Side effects include changes to the state (instance variables, fields) of an object and changes to the state of the context itself (e.g., caused by advancing the pc, popping a variable from the variable stack, or terminating the context).