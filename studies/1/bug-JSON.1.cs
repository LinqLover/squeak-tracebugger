'From Squeak6.0alpha of 13 February 2022 [latest update: #21287] on 13 February 2022 at 9:58:09 pm'!!WebUtils class methodsFor: 'json-decode' stamp: 'ar 3/14/2013 21:52'!jsonArrayFrom: stream	"Decodes a JSON [value, *] array from the stream"	| ch result |	(ch := stream next) = $[ ifFalse:[^self error: 'JSON Array expected'].	stream skipSeparators.	stream peek = $] ifTrue:[stream next. ^#()].	result := WriteStream on: (Array new: 10).	["Decode the next value"	stream skipSeparators.	result nextPut: (self jsonDecode: stream).	stream skipSeparators.	(ch := stream next) = $]] whileFalse:[		ch = $, ifFalse:[^ result contents].	].	^result contents! !